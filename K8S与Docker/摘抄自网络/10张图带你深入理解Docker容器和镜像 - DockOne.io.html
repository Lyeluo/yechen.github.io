<!DOCTYPE html>
<!-- saved from url=(0029)http://dockone.io/article/783 -->
<html class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
<meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1">
<meta name="renderer" content="webkit">
<title>10张图带你深入理解Docker容器和镜像 - DockOne.io</title>
<meta name="keywords" content="10张,图带,深入,理解,docker,容器,镜像">
<meta name="description" content="10张图带你深入理解Docker容器和镜像 - 【编者的话】本文用图文并茂的方式介绍了容器、镜像的区别和Docker每个命令后面的技术细节，能够很好的帮助读者深入理解Docker。
如果你想和我或者更多Docker专家交流，可以加我微信liyingjiese，备注『加群』。群里每周都有全球各大公司的最佳...">
<!--<base href="http://dockone.io/">--><base href="."><!--[if IE]></base><![endif]-->
<link href="http://dockone.io/static/css/default/img/favicon.ico?v=20141205" rel="shortcut icon" type="image/x-icon">

<link rel="stylesheet" type="text/css" href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/bootstrap.css">
<link rel="stylesheet" type="text/css" href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/icon.css">

<link href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/common.css" rel="stylesheet" type="text/css">
<link href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/link.css" rel="stylesheet" type="text/css">
<link href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/style.css" rel="stylesheet" type="text/css">


<script type="text/javascript">
	var _4A1EDA9A1D46D15CEC48132628FC2EAC="";
	var G_POST_HASH=_4A1EDA9A1D46D15CEC48132628FC2EAC;
	var G_INDEX_SCRIPT = "";
	var G_SITE_NAME = "DockOne.io";
	var G_BASE_URL = "http://dockone.io";
	var G_STATIC_URL = "http://dockone.io/static";
	var G_UPLOAD_URL = "http://dockone.io/uploads";
	var G_USER_ID = "";
	var G_USER_NAME = "";
	var G_UPLOAD_ENABLE = "N";
	var G_UNREAD_NOTIFICATION = 0;
	var G_NOTIFICATION_INTERVAL = 100000;
	var G_CAN_CREATE_TOPIC = "";
	var G_REQUEST_URL = "/article/";

	</script>
<script src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/jquery.2.js.下载" type="text/javascript"></script>
<script src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/jquery.form.js.下载" type="text/javascript"></script>
<script src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/plug-in_module.js.下载" type="text/javascript"></script>
<script src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/aws.js.下载" type="text/javascript"></script>
<script src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/aw_template.js.下载" type="text/javascript"></script>
<script src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/app.js.下载" type="text/javascript"></script>
<script type="text/javascript" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/compatibility.js.下载"></script>
<!--[if lte IE 8]>
	<script type="text/javascript" src="http://dockone.io/static/js/respond.js"></script>
<![endif]-->
<style type="text/css">.fancybox-margin{margin-right:17px;}</style></head>
<body><noscript unselectable="on" id="noscript">
    <div class="aw-404 aw-404-wrap container">
        <img src="http://dockone.io/static/common/no-js.jpg">
        <p>你的浏览器禁用了JavaScript, 请开启后刷新浏览器获得更好的体验!</p>
    </div>
</noscript>

	<div class="aw-top-menu-wrap">
		<div class="container">
			<!-- logo -->
			<div class="aw-logo hidden-xs">
				<a href="http://dockone.io/"></a>
			</div>
			<!-- end logo -->
			<!-- 搜索框 -->
			<div class="aw-search-box  hidden-xs hidden-sm">
				<form class="navbar-search" action="http://dockone.io/search/" id="global_search_form" method="post">
					<input class="form-control search-query" type="text" placeholder="搜索问题、话题或人" autocomplete="off" name="q" id="aw-search-query">
					<span title="搜索" id="global_search_btns" onclick="$(&#39;#global_search_form&#39;).submit();"><i class="icon icon-search"></i></span>
					<div class="aw-dropdown">
						<div class="mod-body">
							<p class="title">输入关键字进行搜索</p>
							<ul class="aw-dropdown-list hide"></ul>
							<p class="search"><span>搜索:</span><a onclick="$(&#39;#global_search_form&#39;).submit();"></a></p>
						</div>
						<div class="mod-footer">
							<a href="http://dockone.io/publish" onclick="$(&#39;#header_publish&#39;).click();" class="pull-right btn btn-mini btn-success publish">发起问题</a>
						</div>
					</div>
				</form>
			</div>
			<!-- end 搜索框 -->
			<!-- 导航 -->
			<div class="aw-top-nav navbar">
				<div class="navbar-header">
			      <button class="navbar-toggle pull-left">
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			      </button>
			    </div>
				<nav role="navigation" class="collapse navbar-collapse bs-navbar-collapse">
			      <ul class="nav navbar-nav">
			      	                    <li><a href="http://dockone.io/" class=""><i class="icon icon-ul"></i> 发现</a></li>

					<!-- <li><a href="http://dockone.io/question/" class="">问题</a></li>

					<li><a href="http://dockone.io/article/" class="active">文章</a></li> -->

					<li><a href="http://dockone.io/topic/"><i class="icon icon-topic"></i> 话题</a></li>
										<li><a href="http://dockone.io/help/"><i class="icon icon-bulb"></i> 帮助</a></li>			      </ul>
			    </nav>
			</div>
			<!-- end 导航 -->
			<!-- 用户栏 -->
			<div class="aw-user-nav">
				<!-- 登陆&注册栏 -->
									<a class="login btn btn-normal btn-primary" href="http://dockone.io/login/">登录</a>
					<a class="register btn btn-normal btn-success" href="http://dockone.io/account/register/">注册</a>								<!-- end 登陆&注册栏 -->
			</div>
			<!-- end 用户栏 -->
			<!-- 发起 -->
						<!-- end 发起 -->
		</div>
	</div>
	<div class="aw-container-wrap" style="margin: 15px 0px -15px 25px;">
	
	<div class="container">
		<div class="row">
                   <a target="_blank" href="http://dockone.io/article/2692">
                     <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/banner.jpg">
                     </a>
        </div>
  </div>
</div>


<div class="aw-container-wrap">
    <div class="container">
        <div class="row">
            <div class="aw-content-wrap clearfix">
                <div class="col-sm-12 col-md-9 aw-main-content aw-article-content">
                    <div class="aw-mod aw-topic-bar" id="question_topic_editor" data-type="article" data-id="783">
                        <div class="tag-bar clearfix">
                                                                                    <span class="topic-tag" data-id="7">
                                <a class="text" href="http://dockone.io/topic/Docker">Docker</a>
                            </span>
                                                        
                                                    </div>
                    </div>
                    <div class="aw-mod aw-question-detail">
                        <div class="mod-head">
                            <h1>
                                10张图带你深入理解Docker容器和镜像                            </h1>

                                                    </div>
                        <div class="mod-body">
                            <div class="content markitup-box">
                                <br>【编者的话】本文用图文并茂的方式介绍了容器、镜像的区别和Docker每个命令后面的技术细节，能够很好的帮助读者深入理解Docker。<br>
<br><strong>如果你想和我或者更多Docker专家交流，可以加我微信liyingjiese，备注『加群』。群里每周都有全球各大公司的最佳Docker实践以及行业最新动态。</strong><br>
<br>这篇文章希望能够帮助读者深入理解Docker的命令，还有容器（container）和镜像（image）之间的区别，并深入探讨容器和运行中的容器之间的区别。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/401405294bff9c66a1ec0e842391c856.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/401405294bff9c66a1ec0e842391c856.png" class="img-polaroid" title="1.png" alt="1.png"></a>
</div>
<br>
当我对Docker技术还是一知半解的时候，我发现理解Docker的命令非常困难。于是，我花了几周的时间来学习Docker的工作原理，更确切地说，是关于Docker统一文件系统（the union file system）的知识，然后回过头来再看Docker的命令，一切变得顺理成章，简单极了。<br>
<br><strong>题外话</strong>：就我个人而言，掌握一门技术并合理使用它的最好办法就是深入理解这项技术背后的工作原理。通常情况下，一项新技术的诞生常常会伴随着媒体的大肆宣传和炒作，这使得用户很难看清技术的本质。更确切地说，新技术总是会发明一些新的术语或者隐喻词来帮助宣传，这在初期是非常有帮助的，但是这给技术的原理蒙上了一层砂纸，不利于用户在后期掌握技术的真谛。<br>
<br>Git就是一个很好的例子。我之前不能够很好的使用Git，于是我花了一段时间去学习Git的原理，直到这时，我才真正明白了Git的用法。我坚信只有真正理解Git内部原理的人才能够掌握这个工具。<br>
<h3>Image Definition</h3>镜像（Image）就是一堆只读层（read-only layer）的统一视角，也许这个定义有些难以理解，下面的这张图能够帮助读者理解镜像的定义。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/3b9079593f15903497a37c64a23b9c39.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/3b9079593f15903497a37c64a23b9c39.png" class="img-polaroid" title="2.png" alt="2.png"></a>
</div>
<br>
从左边我们看到了多个只读层，它们重叠在一起。除了最下面一层，其它层都会有一个指针指向下一层。这些层是Docker内部的实现细节，并且能够在主机（译者注：运行Docker的机器）的文件系统上访问到。统一文件系统（union file system）技术能够将不同的层整合成一个文件系统，为这些层提供了一个统一的视角，这样就隐藏了多层的存在，在用户的角度看来，只存在一个文件系统。我们可以在图片的右边看到这个视角的形式。<br>
<br>你可以在你的主机文件系统上找到有关这些层的文件。需要注意的是，在一个运行中的容器内部，这些层是不可见的。在我的主机上，我发现它们存在于/var/lib/docker/aufs目录下。<br>
<pre class="prettyprint"><h1>sudo tree -L 1 /var/lib/docker/</h1>/var/lib/docker/<br>
├──&nbsp;aufs<br>
├──&nbsp;containers<br>
├──&nbsp;graph<br>
├──&nbsp;init<br>
├──&nbsp;linkgraph.db<br>
├──&nbsp;repositories-aufs<br>
├──&nbsp;tmp<br>
├──&nbsp;trust<br>
└──&nbsp;volumes<br>
7&nbsp;directories,&nbsp;2&nbsp;files<br>
</pre><br>
<h3>Container Definition</h3>容器（container）的定义和镜像（image）几乎一模一样，也是一堆层的统一视角，唯一区别在于容器的最上面那一层是可读可写的。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/dacd660134e97cca60e04ba5fdcfa79e.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/dacd660134e97cca60e04ba5fdcfa79e.png" class="img-polaroid" title="3.png" alt="3.png"></a>
</div>
<br>
细心的读者可能会发现，容器的定义并没有提及容器是否在运行，没错，这是故意的。正是这个发现帮助我理解了很多困惑。<br>
<br>要点：容器 = 镜像 + 读写层。并且容器的定义并没有提及是否要运行容器。<br>
<br>接下来，我们将会讨论运行态容器。<br>
<h3>Running Container Definition</h3>一个运行态容器（running container）被定义为一个可读写的统一文件系统加上隔离的进程空间和包含其中的进程。下面这张图片展示了一个运行中的容器。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/1ccc2aa9e11e25e5ed2efd18cf1052c4.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/1ccc2aa9e11e25e5ed2efd18cf1052c4.png" class="img-polaroid" title="4.png" alt="4.png"></a>
</div>
<br>
正是文件系统隔离技术使得Docker成为了一个前途无量的技术。一个容器中的进程可能会对文件进行修改、删除、创建，这些改变都将作用于可读写层（read-write layer）。下面这张图展示了这个行为。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/a20b70e3e4ca61faa2c3436e1bb2d93a.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/a20b70e3e4ca61faa2c3436e1bb2d93a.png" class="img-polaroid" title="5.png" alt="5.png"></a>
</div>
<br>
我们可以通过运行以下命令来验证我们上面所说的：<br>
<pre class="prettyprint">docker&nbsp;run&nbsp;ubuntu&nbsp;touch&nbsp;happiness.txt<br>
</pre><br>
即便是这个ubuntu容器不再运行，我们依旧能够在主机的文件系统上找到这个新文件。<br>
<pre class="prettyprint"><h1>find / -name happiness.txt</h1>/var/lib/docker/aufs/diff/860a7b...889/happiness.txt<br>
</pre><br>
<h3>Image Layer Definition</h3>为了将零星的数据整合起来，我们提出了镜像层（image layer）这个概念。下面的这张图描述了一个镜像层，通过图片我们能够发现一个层并不仅仅包含文件系统的改变，它还能包含了其他重要信息。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/39fb0f8e630b338bcca7a29da3acabb7.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/39fb0f8e630b338bcca7a29da3acabb7.png" class="img-polaroid" title="6.png" alt="6.png"></a>
</div>
<br>
元数据（metadata）就是关于这个层的额外信息，它不仅能够让Docker获取运行和构建时的信息，还包括父层的层次信息。需要注意，只读层和读写层都包含元数据。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/f3218a8fcdd1fd8bcd5a719ca3c64f59.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/f3218a8fcdd1fd8bcd5a719ca3c64f59.png" class="img-polaroid" title="7.png" alt="7.png"></a>
</div>
<br>
除此之外，每一层都包括了一个指向父层的指针。如果一个层没有这个指针，说明它处于最底层。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/53e377deeeb5f30bf939ed0836f851c9.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/53e377deeeb5f30bf939ed0836f851c9.png" class="img-polaroid" title="8.png" alt="8.png"></a>
</div>
<br>
<br><strong>Metadata Location：</strong><br>
我发现在我自己的主机上，镜像层（image layer）的元数据被保存在名为”json”的文件中，比如说：<br>
<pre class="prettyprint">/var/lib/docker/graph/e809f156dc985.../json<br>
</pre><br>
e809f156dc985...就是这层的id<br>
<br>一个容器的元数据好像是被分成了很多文件，但或多或少能够在/var/lib/docker/containers/&lt;id&gt;目录下找到，&lt;id&gt;就是一个可读层的id。这个目录下的文件大多是运行时的数据，比如说网络，日志等等。<br>
<h3>全局理解（Tying It All Together）</h3>现在，让我们结合上面提到的实现细节来理解Docker的命令。<br>
<br><h4>docker create &lt;image-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/062e7af0929dd205b2ac6efdd937d6f4.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/062e7af0929dd205b2ac6efdd937d6f4.png" class="img-polaroid" title="9.png" alt="9.png"></a>
</div>
<br>
docker create 命令为指定的镜像（image）添加了一个可读写层，构成了一个新的容器。注意，这个容器并没有运行。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/162f02c6f9dce4ccdaa0c6c676da2196.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/162f02c6f9dce4ccdaa0c6c676da2196.png" class="img-polaroid" title="10.png" alt="10.png"></a>
</div>
<br>
<h4>docker start &lt;container-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/1c38d4735e9760bdca025ff50a1b5386.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/1c38d4735e9760bdca025ff50a1b5386.png" class="img-polaroid" title="11.png" alt="11.png"></a>
</div>
<br>
Docker start命令为容器文件系统创建了一个进程隔离空间。注意，每一个容器只能够有一个进程隔离空间。<br>
<br><h4>docker run &lt;image-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/01aedf55bd21abbe607b3864d76f0ec0.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/01aedf55bd21abbe607b3864d76f0ec0.png" class="img-polaroid" title="12.png" alt="12.png"></a>
</div>
<br>
看到这个命令，读者通常会有一个疑问：docker start 和 docker run命令有什么区别。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/275cc486d4ce7ecbdecf0ecc1de0a34b.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/275cc486d4ce7ecbdecf0ecc1de0a34b.png" class="img-polaroid" title="13.png" alt="13.png"></a>
</div>
<br>
从图片可以看出，docker run 命令先是利用镜像创建了一个容器，然后运行这个容器。这个命令非常的方便，并且隐藏了两个命令的细节，但从另一方面来看，这容易让用户产生误解。<br>
<br>题外话：继续我们之前有关于Git的话题，我认为docker run命令类似于git pull命令。git pull命令就是git fetch 和 git merge两个命令的组合，同样的，docker run就是docker create和docker start两个命令的组合。<br>
<h4>docker ps</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/f05a2a8dfc6641d8237306ff575aa283.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/f05a2a8dfc6641d8237306ff575aa283.png" class="img-polaroid" title="14.png" alt="14.png"></a>
</div>
<br>
docker ps 命令会列出所有运行中的容器。这隐藏了非运行态容器的存在，如果想要找出这些容器，我们需要使用下面这个命令。<br>
<h4>docker ps –a</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/d7f7b0ada7fc1c641c90745a959f9c05.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/d7f7b0ada7fc1c641c90745a959f9c05.png" class="img-polaroid" title="15.png" alt="15.png"></a>
</div>
<br>
docker ps –a命令会列出所有的容器，不管是运行的，还是停止的。<br>
<h4>docker images</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/d5b0b3e2e7acdcf35e7577d7670a46f7.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/d5b0b3e2e7acdcf35e7577d7670a46f7.png" class="img-polaroid" title="16.png" alt="16.png"></a>
</div>
<br>
docker images命令会列出了所有顶层（top-level）镜像。实际上，在这里我们没有办法区分一个镜像和一个只读层，所以我们提出了top-level镜像。只有创建容器时使用的镜像或者是直接pull下来的镜像能被称为顶层（top-level）镜像，并且每一个顶层镜像下面都隐藏了多个镜像层。<br>
<h4>docker images –a</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/ce083575e95a0e46b105c3596c12ca71.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/ce083575e95a0e46b105c3596c12ca71.png" class="img-polaroid" title="17.png" alt="17.png"></a>
</div>
<br>
docker images –a命令列出了所有的镜像，也可以说是列出了所有的可读层。如果你想要查看某一个image-id下的所有层，可以使用docker history来查看。<br>
<h4>docker stop &lt;container-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/a41de8fe542efe25e3620691ad9238df.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/a41de8fe542efe25e3620691ad9238df.png" class="img-polaroid" title="18.png" alt="18.png"></a>
</div>
<br>
docker stop命令会向运行中的容器发送一个SIGTERM的信号，然后停止所有的进程。<br>
<h4>docker kill &lt;container-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/ac1cbc31d4f191e26e05fb1a11f04d26.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/ac1cbc31d4f191e26e05fb1a11f04d26.png" class="img-polaroid" title="19.png" alt="19.png"></a>
</div>
<br>
docker kill 命令向所有运行在容器中的进程发送了一个不友好的SIGKILL信号。<br>
<br><h4>docker pause &lt;container-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/b701a3c51e7d1915da3bea0bc43efcd1.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/b701a3c51e7d1915da3bea0bc43efcd1.png" class="img-polaroid" title="20.png" alt="20.png"></a>
</div>
<br>
docker stop和docker kill命令会发送UNIX的信号给运行中的进程，docker pause命令则不一样，它利用了cgroups的特性将运行中的进程空间暂停。具体的内部原理你可以在这里找到：<a href="https://www.kernel.org/doc/Documentation/cgroups/freezer-subsystem.txt"></a><a href="https://www.kernel.org/doc/Documentation/cgroups/freezer-subsystem.txt" rel="nofollow" target="_blank">https://www.kernel.org/doc/Doc ... m.txt</a>，但是这种方式的不足之处在于发送一个SIGTSTP信号对于进程来说不够简单易懂，以至于不能够让所有进程暂停。<br>
<h4>docker rm &lt;container-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/8fa2d6e19c29f18548624efd64eb6dfa.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/8fa2d6e19c29f18548624efd64eb6dfa.png" class="img-polaroid" title="21.png" alt="21.png"></a>
</div>
<br>
docker rm命令会移除构成容器的可读写层。注意，这个命令只能对非运行态容器执行。<br>
<br><h4>docker rmi &lt;image-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/32a7f413a5f8ff936dd0f4a31d25fdcc.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/32a7f413a5f8ff936dd0f4a31d25fdcc.png" class="img-polaroid" title="22.png" alt="22.png"></a>
</div>
<br>
docker rmi 命令会移除构成镜像的一个只读层。你只能够使用docker rmi来移除最顶层（top level layer）（也可以说是镜像），你也可以使用-f参数来强制删除中间的只读层。 <br>
<br><h4>docker commit &lt;container-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/3c02ccf4e7a2a353af065d93b26ae89e.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/3c02ccf4e7a2a353af065d93b26ae89e.png" class="img-polaroid" title="23.png" alt="23.png"></a>
</div>
<br>
docker commit命令将容器的可读写层转换为一个只读层，这样就把一个容器转换成了不可变的镜像。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/28059b3a499faba896263c0ff077fe3a.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/28059b3a499faba896263c0ff077fe3a.png" class="img-polaroid" title="24.png" alt="24.png"></a>
</div>
<br>
<h4>docker build</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/b22cd304f28c715ae3ae6812476b222d.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/b22cd304f28c715ae3ae6812476b222d.png" class="img-polaroid" title="25.png" alt="25.png"></a>
</div>
<br>
docker build命令非常有趣，它会反复的执行多个命令。<br>
<div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/100712263ecf4544dd11602adc39ee3e.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/100712263ecf4544dd11602adc39ee3e.png" class="img-polaroid" title="26.png" alt="26.png"></a>
</div>
<br>
我们从上图可以看到，build命令根据Dockerfile文件中的FROM指令获取到镜像，然后重复地1）run（create和start）、2）修改、3）commit。在循环中的每一步都会生成一个新的层，因此许多新的层会被创建。<br>
<br><h4>docker exec &lt;running-container-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/db64b3b38aff136d42e9ffeb81675bda.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/db64b3b38aff136d42e9ffeb81675bda.png" class="img-polaroid" title="27.png" alt="27.png"></a>
</div>
<br>
docker exec 命令会在运行中的容器执行一个新进程。<br>
<br><h4>docker inspect &lt;container-id&gt; or &lt;image-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/184f9d55770ca036cb5b1e6d96ce4a12.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/184f9d55770ca036cb5b1e6d96ce4a12.png" class="img-polaroid" title="28.png" alt="28.png"></a>
</div>
<br>
docker inspect命令会提取出容器或者镜像最顶层的元数据。<br>
<br><h4>docker save &lt;image-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/70cdbaf975c88bc83423d88be85476b5.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/70cdbaf975c88bc83423d88be85476b5.png" class="img-polaroid" title="29.png" alt="29.png"></a>
</div>
<br>
docker save命令会创建一个镜像的压缩文件，这个文件能够在另外一个主机的Docker上使用。和export命令不同，这个命令为每一个层都保存了它们的元数据。这个命令只能对镜像生效。<br>
<br><h4>docker export &lt;container-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/1714c3dd524c807bf9c9b4d0fbe4d056.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/1714c3dd524c807bf9c9b4d0fbe4d056.png" class="img-polaroid" title="30.png" alt="30.png"></a>
</div>
<br>
docker export命令创建一个tar文件，并且移除了元数据和不必要的层，将多个层整合成了一个层，只保存了当前统一视角看到的内容（译者注：expoxt后的容器再import到Docker中，通过docker images –tree命令只能看到一个镜像；而save后的镜像则不同，它能够看到这个镜像的历史镜像）。<br>
<br><h4>docker history &lt;image-id&gt;</h4><div class="aw-upload-img-list active">
	<a href="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/b513dd5467f23fdd23523f60242d5dcb.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/b513dd5467f23fdd23523f60242d5dcb.png" class="img-polaroid" title="31.png" alt="31.png"></a>
</div>
<br>
docker history命令递归地输出指定镜像的历史镜像。<br>
<br><h3>结论</h3>我希望你们能喜欢这篇文章。还有其他许多的命令（pull，search，restart，attach等）我没有提及，但是我相信通过阅读这篇文章，大部分的Docker命令都能够被很好理解。我仅仅学习了Docker两个星期，因此，如果我有什么地方说的不好，欢迎大家指出。<br>
<br><strong>原文链接：<a href="http://merrigrove.blogspot.sg/2015/10/visualizing-docker-containers-and-images.html">Visualizing Docker Containers and Images</a>（翻译：杨润青）</strong><br>
<br>＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝<br>
<br><strong>译者介绍</strong><br>
杨润青，90后博士僧，研究方向是网络和信息安全。
                                                                <div class="aw-upload-img-list">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </div>
                                
                                                                <ul class="aw-upload-file-list">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </ul>
                                                            </div>
                            <div class="meta clearfix">
                                <div class="aw-article-vote pull-left disabled">
                                    <a href="javascript:;" class="agree" onclick=""><i class="icon icon-agree"></i> <b>11</b></a>
                                                                    </div>

                                <span class="pull-right  more-operate">
                                    
                                    
                                    <a class="text-color-999 dropdown-toggle" data-toggle="dropdown">
                                        <i class="icon icon-share"></i> 分享                                    </a>
                                    <div aria-labelledby="dropdownMenu" role="menu" class="aw-dropdown shareout pull-right">
                                        <ul class="aw-dropdown-list">
                                            <li><a onclick="AWS.User.share_out(&#39;tsina&#39;);"><i class="icon icon-weibo"></i> 微博</a></li>
                                            <li><a onclick="AWS.User.share_out(&#39;qzone&#39;);"><i class="icon icon-qzone"></i> QZONE</a></li>
                                            <li><a onclick="AWS.User.share_out(&#39;weixin&#39;);"><i class="icon icon-wechat"></i> 微信</a></li>
                                        </ul>
                                    </div>

                                    <em class="text-color-999">2015-10-31</em>
                                </span>
                            </div>
                        </div>
                        <div class="mod-footer">
                                                        <div class="aw-article-voter">
                                                                <a href="http://dockone.io/people/%E4%B8%80%E4%B8%9D%E5%BE%AE%E5%87%89" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="一丝微凉"><img alt="一丝微凉" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <a href="http://dockone.io/people/lincoln_alex" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="lincoln_alex"><img alt="lincoln_alex" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <a href="http://dockone.io/people/wffger" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="wffger"><img alt="wffger" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <a href="http://dockone.io/people/Jacky_Cui" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="Jacky_Cui"><img alt="Jacky_Cui" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <a href="http://dockone.io/people/dotNetDR_" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="dotNetDR_"><img alt="dotNetDR_" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <a href="http://dockone.io/people/kurtzhong" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="kurtzhong"><img alt="kurtzhong" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <a href="http://dockone.io/people/sujunxuan" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="sujunxuan"><img alt="sujunxuan" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <a href="http://dockone.io/people/zjien" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="zjien"><img alt="zjien" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <a href="http://dockone.io/people/%E9%87%87%E8%8F%8A%E7%AF%B1%E4%B8%8B" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="采菊篱下"><img alt="采菊篱下" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <a href="http://dockone.io/people/shiyouxu" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="shiyouxu"><img alt="shiyouxu" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <a href="http://dockone.io/people/Ivon_Ma" class="voter" data-toggle="tooltip" data-placement="right" data-original-title="Ivon_Ma"><img alt="Ivon_Ma" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                                                <!--<a class="more-voters">...</a>-->
                            </div>
                                                    </div>
                    </div>

                    <!-- 文章评论 -->
                    <div class="aw-mod">
                        <div class="mod-head common-head">
                            <h2>22 个评论</h2>
                        </div>

                        <div class="mod-body aw-feed-list">
                            
                                                                <div class="aw-item" id="answer_list_1018">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/%E4%B8%80%E4%B8%9D%E5%BE%AE%E5%87%89">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="一丝微凉">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/%E4%B8%80%E4%B8%9D%E5%BE%AE%E5%87%89">一丝微凉</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            文中好像有一些图片跪了                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2015-11-01 20:23</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1019">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/rainkin1993">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="rainkin1993">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/rainkin1993">rainkin1993</a> 回复 <a href="http://dockone.io/people/%E4%B8%80%E4%B8%9D%E5%BE%AE%E5%87%89">一丝微凉</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            我这边是好的呢...不知道啥原因                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2015-11-01 21:42</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1021">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/%E8%8E%ABY%E5%85%AE">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="莫Y兮">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/%E8%8E%ABY%E5%85%AE">莫Y兮</a> 回复 <a href="http://dockone.io/people/%E4%B8%80%E4%B8%9D%E5%BE%AE%E5%87%89">一丝微凉</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            需要翻墙，你懂得                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2015-11-02 14:45</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1025">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/%E4%B8%80%E4%B8%9D%E5%BE%AE%E5%87%89">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="一丝微凉">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/%E4%B8%80%E4%B8%9D%E5%BE%AE%E5%87%89">一丝微凉</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            OK                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2015-11-03 12:44</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1026">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/flyer103">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="flyer103">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/flyer103">flyer103</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            docker create 那部分翻译错了一点儿，是创建了一个「可读可写层」。                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2015-11-04 09:16</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1027">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/rainkin1993">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="rainkin1993">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/rainkin1993">rainkin1993</a> 回复 <a href="http://dockone.io/people/flyer103">flyer103</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            谢谢指出，我修改了：）                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2015-11-04 09:39</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1034">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/manatee">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="manatee">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/manatee">manatee</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            请问Running Container Definition这块默认创建一个docker容器,在容器中创建的文件都可以在宿主机中找到吗,我测试的结果是只有-v 或者在dockerfile中volume过的目录中创建的文件才可以在宿主机中找到                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2015-11-06 13:18</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1178">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/zyren">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="zyren">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/zyren">zyren</a> 回复 <a href="http://dockone.io/people/manatee">manatee</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            看你用的是什么存储设备，如果是devicemapper，肯定找不到，因为它是块设备，没有文件的概念。  如果是 aufs 那么所有的层增加的文件都在/var/lib/docker/aufs/diff/目录下对应的层ID目录下。<br>
-v只是将宿主机上的目录挂到容器里，在容器里修改相当于直接修改宿主机对应的目录。                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2015-12-20 20:09</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1182">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/wffger">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="wffger">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/wffger">wffger</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            http://dockerone.com/uploads/article/20151103/5cca590212e2a110be84cbdd3b6101ee.png<br>
这幅图的箭头为什么没有穿过各层？                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2015-12-21 17:13</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1244">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/Jacky_Cui">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="Jacky_Cui">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/Jacky_Cui">Jacky_Cui</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            1.docker create &lt;image-id&gt;,我可以使用一个image 创建多个 container吗?(也就是多个container基于一个image)<br>
<br>
2.另外我在看Docker与虚拟机的区别时,读到过一段话:"在操作系统上开启一个Docker服务,一个Docker服务上课开启多个Docker容器,一个Docker容器中可以开多个进程"请帮我看看这句话对吗?<br>
<br>
3.若2正确,docker save &lt;image-id&gt;,可以认为做了一个image(所有只读层)的备份;<br>
docker export &lt;container-id&gt;,可以认为是做了一个 container(可读写层 + 所有只读层)的备份,那么文中"expoxt后的容器再import到Docker中"这句话中的Docker具体是指另一个Docker容器呢,还是还是宿主操作系统上的Docker服务呢?有或者是一个Docker镜像呢?<br>
<br>
我新学Docker,请大家不要笑话我!                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2016-01-09 22:56</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1245">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/Jacky_Cui">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="Jacky_Cui">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/Jacky_Cui">Jacky_Cui</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            Docker官网上(https://docs.docker.com/mac/)有这么一段 与本文大相径庭的话,大家一起探讨下!!!<br>
<br>
A container is a stripped-to-basics version of a Linux operating system.(容器是一个脱去了基础版本的linux操作系统&lt;我自己这样翻译可能不专业,请指正&gt;) An image is software you load into a container. <br>
<br>
If there is a command : docker run hello-world<br>
When you ran this command, the Docker software:<br>
<br>
checked to see if you had the hello-world software image<br>
downloaded the image from the Docker Hub (more about the hub later)<br>
loaded the image into the container and “ran” it                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2016-01-10 00:56</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1249">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/rainkin1993">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="rainkin1993">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/rainkin1993">rainkin1993</a> 回复 <a href="http://dockone.io/people/Jacky_Cui">Jacky_Cui</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            1. 可以 我觉得image的一个目的就是能够重复使用吧<br>
2. 不清楚这里的Docker服务是指什么，我的理解是在一个linux上安装了Docker，并且启动这个程序（Docker本身看做一个软件，他有服务端和客户端），然后通过docker命令向服务器发送创建的命令，就能启动多个容器，至于一个容器多个进程，从官方的文档看他们更倾向于在一个容器中运行一个进程，但也能通过其他方法运行多个进程，具体百度orGoogle<br>
3. Docker指的是Docker程序本身，也就是你理解的Docker服务（无所谓本机或者其他主机，都行）                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2016-01-11 09:27</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1717">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/rainkin1993">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="rainkin1993">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/rainkin1993">rainkin1993</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            已修改                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2016-08-26 19:45</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1722">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/kangwenbo">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="kangwenbo">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/kangwenbo">kangwenbo</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            大神给跪了，顶我看一个星期的docker资料                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2016-09-02 11:29</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1723">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/kangwenbo">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="kangwenbo">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/kangwenbo">kangwenbo</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            希望大神写一写怎么构建私人仓库，dockerfile,运行一些简单的golang程序等...感激不尽                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2016-09-02 11:35</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1762">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/%E8%83%96%E8%83%96">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="胖胖">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/%E8%83%96%E8%83%96">胖胖</a> 回复 <a href="http://dockone.io/people/Jacky_Cui">Jacky_Cui</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            A container is a stripped-to-basics version of a Linux operating system.(容器是一个脱去了基础版本的linux操作系统&lt;我自己这样翻译可能不专业,请指正&gt;)<br>
我觉得应该翻译成 脱去了多余部分的一个基础版本的linux操作系统                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2016-10-11 10:32</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1833">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/zjien">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="zjien">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/zjien">zjien</a> 回复 <a href="http://dockone.io/people/%E8%83%96%E8%83%96">胖胖</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            这里的多余部分是指如Ubuntu这样的发行版？                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2016-12-23 10:37</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_1859">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/XBOOST">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="XBOOST">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/XBOOST">XBOOST</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            图的讲解太清晰了,多谢分享!!                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2017-02-08 17:21</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_2152">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/%E5%88%98%E4%B9%90">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="刘乐">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/%E5%88%98%E4%B9%90">刘乐</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            没有更厉害的了                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2018-01-03 17:27</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_2171">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/vector4wang">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="vector4wang">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/vector4wang">vector4wang</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            转载了。。。(如果不允许，告知我。。)                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2018-01-27 21:48</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                <div class="aw-item" id="answer_list_2175">
                                    <div class="mod-head">
                                        <a class="aw-user-img aw-border-radius-5" href="http://dockone.io/people/Tipod">
                                            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png" alt="Tipod">
                                        </a>
                                        <p>
                                            <a href="http://dockone.io/people/Tipod">Tipod</a>                                        </p>
                                    </div>
                                    <div class="mod-body">
                                        <div class="markitup-box">
                                            真的很清晰，多谢分享！！！                                        </div>
                                    </div>
                                    <div class="mod-footer">
                                        <div class="meta">
                                            <span class="pull-right text-color-999">2018-02-08 16:44</span>
                                                                                    </div>
                                    </div>
                                </div>
                                                                                    </div>

                        
                                            </div>
                    <!-- end 文章评论 -->

                    <!-- 回复编辑器 -->
                    <div class="aw-mod aw-article-replay-box">
                        <a name="answer_form"></a>
                                                <p align="center">要回复文章请先<a href="http://dockone.io/login/">登录</a>或<a href="http://dockone.io/account/register/">注册</a></p>
                                            </div>
                    <!-- end 回复编辑器 -->
                </div>
                <!-- 侧边栏 -->
                <div class="col-sm-12 col-md-3 aw-side-bar hidden-sm hidden-xs">
                    <!-- 发起人 -->
                                        <div class="aw-mod user-detail">
                        <div class="mod-head">
                            <h3>发起人</h3>
                        </div>
                        <div class="mod-body">
                            <dl>
                                <dt class="pull-left aw-border-radius-5">
                                    <a href="http://dockone.io/people/rainkin1993"><img alt="rainkin1993" src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/avatar-mid-img.png"></a>
                                </dt>
                                <dd class="pull-left">
                                    <a class="aw-user-name" href="http://dockone.io/people/rainkin1993" data-id="2147">rainkin1993</a>
                                    
                                                                        <p>yang runqing</p>
                                </dd>
                            </dl>
                        </div>
                        <div class="mod-footer clearfix">
                                                        <div class="aw-topic-bar">
                                <div class="topic-bar clearfix">
                                    <span class="pull-left text-color-999">
                                        擅长话题 : &nbsp;
                                    </span>
                                                                        <span class="topic-tag">
                                        <a href="http://dockone.io/topic/Mesos" class="text" data-id="66">Mesos</a>
                                    </span>
                                                                        <span class="topic-tag">
                                        <a href="http://dockone.io/topic/Swarm" class="text" data-id="17">Swarm</a>
                                    </span>
                                                                        <span class="topic-tag">
                                        <a href="http://dockone.io/topic/%E5%BE%AE%E6%9C%8D%E5%8A%A1" class="text" data-id="94">微服务</a>
                                    </span>
                                                                    </div>
                            </div>
                                                    </div>
                    </div>
                                        <!-- end 发起人 -->

                                        <!-- 推荐内容 -->
                    <div class="aw-mod">
                        <div class="mod-head">
                            <h3>推荐内容</h3>
                        </div>
                        <div class="mod-body">
                            <ul>
                                                                <li>
                                                                        <a href="http://dockone.io/article/9551">Dockerfile 最佳实践及示例</a>
                                                                    </li>
                                                                <li>
                                                                        <a href="http://dockone.io/article/9550">Docker容器安全性分析</a>
                                                                    </li>
                                                                <li>
                                                                        <a href="http://dockone.io/article/9530">在Docker环境构建、打包和运行Spring Boot应用</a>
                                                                    </li>
                                                                <li>
                                                                        <a href="http://dockone.io/article/9520">前后端项目在服务端持续集成部署</a>
                                                                    </li>
                                                                <li>
                                                                        <a href="http://dockone.io/article/9508">前端领域的 Docker 与 Kubernetes</a>
                                                                    </li>
                                                                <li>
                                                                        <a href="http://dockone.io/article/9507">Node 项目从构建到使用 Jenkins 与 Docker 实现自动化部署</a>
                                                                    </li>
                                                                <li>
                                                                        <a href="http://dockone.io/article/9433">黑客集团利用暴露在外的API端点劫持Docker系统</a>
                                                                    </li>
                                                                <li>
                                                                        <a href="http://dockone.io/article/9420">写给前端工程师的简易 Docker 入门教程</a>
                                                                    </li>
                                                                <li>
                                                                        <a href="http://dockone.io/article/9406">前端部署发展史</a>
                                                                    </li>
                                                                <li>
                                                                        <a href="http://dockone.io/article/9404">Docker 构建脚本 Dockerfile 指令全解析</a>
                                                                    </li>
                                                            </ul>
                        </div>
                    </div>
                    <!-- end 推荐内容 -->
                    
                                        <!-- 相关问题 -->
                    <div class="aw-mod aw-text-align-justify question-related-list">
                        <div class="mod-head">
                            <h3>相关问题</h3>
                        </div>
                        <div class="mod-body">
                            <ul>
                                                                <li><a href="http://dockone.io/question/151">Docker如何为企业产生价值？</a></li>
                                                                <li><a href="http://dockone.io/question/341">大家对国内的Docker meetup活动组织有什么建议和想法？比如希望在哪些城市举办？希望听到什么样的话题？</a></li>
                                                                <li><a href="http://dockone.io/question/24">请教下代码放在Docker里面还是外面呢</a></li>
                                                                <li><a href="http://dockone.io/question/10">如何学习Docker</a></li>
                                                                <li><a href="http://dockone.io/question/408">Docker container 到底应该翻译成什么？容器？集装箱？</a></li>
                                                                <li><a href="http://dockone.io/question/160">Machine、Swarm、Compose、SocketPlane这些Docker生态圈软件各解决了哪些问题？</a></li>
                                                                <li><a href="http://dockone.io/question/430">国内有哪些Docker大牛？</a></li>
                                                                <li><a href="http://dockone.io/question/54">容器里Nginx、MySQL的配置文件、日志是否应该挂载到宿主上？</a></li>
                                                                <li><a href="http://dockone.io/question/574">docker书籍</a></li>
                                                                <li><a href="http://dockone.io/question/6">Container内不需要OS，为何需要OS的基础镜像？</a></li>
                                                                <li><a href="http://dockone.io/question/199">Docker容器使用--net=host的方式启动的，怎么用ssh去连接容器</a></li>
                                                            </ul>
                        </div>
                    </div>
                    <!-- end 相关问题 -->
                                    </div>
                <!-- end 侧边栏 -->
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    ANSWER_EDIT_TIME = 30;

    $(document).ready(function () {
        if ($('.aw-article-vote.disabled').length)
        {
            $('.aw-article-vote.disabled a').attr('onclick', '');
        }

        AWS.at_user_lists('#wmd-input');

        AWS.Init.init_article_comment_box($('.aw-article-comment'));
    });
</script>

<div class="aw-footer-wrap">
    <!--<div class="aw-footer">
        Copyright © 2019, All Rights Reserved</span>

        <span class="hidden-xs">Powered By <a href="http://www.wecenter.com/?copyright"
                                              target="blank">WeCenter 3.0.2</a></span>

            </div>-->







<title>无标题文档</title>
<style type="text/css">
footer{margin:0;padding:0;border:0;font-weight:inherit;font-style:inherit;font-size:100%;font-family:inherit;vertical-align:baseline;background:transparent}html{text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
.text-center{text-align:center}
.icons-weibo,.icons-twitter,.icons-blog,.icons-rss{width:32px;height:32px;background:url(http://dockone.io/static/css/default/img/icon.png) no-repeat}
.icons-weibo{background-position:0 0}
.icons-twitter{background-position:-32px 0}
.icons-rss{background-position:-96px 0}
.footer{left:0;bottom:0;height:410px;width:99%;text-align:center;background:#332e36;padding-top:50px;padding-bottom:50px;border-top:1px solid #1d111e}

.subscribe-email{margin-bottom:40px}
.subscribe-email h3{font-size:16px;color:#fff;margin-bottom:4px}
.subscribe-email p{font-size:12px; color:#747f8c;}
.subscribe-email .form-email{margin-top:20px;margin:20px auto 0}
.subscribe-email .input-email{border-radius:3px;width:200px;padding:10px;margin-right:10px}
.copyright{font-size:14px;line-height:30px;margin-bottom:20px}
@media screen and (min-width: 48.0625em){
.copyright{float:left;margin-bottom:0}}
.copyright .info{font-size:12px}
.copyright p+p{font-size:12px}@media screen and (min-width: 48.0625em){
.footer-follow{float:right;margin-top:14px}}
.footer-follow li{display:inline-block;margin-left:20px}
.footer-follow a{display:inline-block;text-indent:-999em}.list{width:190px;margin:0 auto}




.footer-follow img{display: none;}


.footer-follow li a:hover img{display: block; position: absolute; left:-76px; top:50px;}








</style>



<footer class="footer" style="margin-top: 20px;height:300px !important;">
  <div class="subscribe-email row text-center">
    <h3>DockOne，专业的Cloud Native学习社区</h3>
    <p>关注Cloud Native相关的产品以及开源项目</p>
      </div>
  <div class="row cf" style="margin-left:auto;margin-right:auto; width: 900px !important;">
    <div class="copyright" style="color:#fff;">
      <p> 2019 <strong>DockOne.io</strong>. All Rights Reserved. </p>
      <p class="">DockOne，新圈子，新思路，新视野</p>
    </div>

    <div class="footer-follow">
      <ul class="cf">
        <li><a class="icons-weibo" href="https://weibo.com/dockerone" title="Weibo" target="_blank">Weibo</a>
      

        </li>
        <li><a class="icons-twitter" href="http://dockone.io/#" title="Wechat" style="position: relative;">Wechat

            <img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/ewm.jpg" style="height:80px;"></a>
            

        </li><li><a class="icons-rss" href="http://dockone.io/feed" title="Feed" target="_blank">Feed</a></li>
      </ul>
    </div>
  </div>
</footer>





</div>

<a class="aw-back-top hidden-xs" href="javascript:;" onclick="$.scrollTo(1, 600, {queue:true});" style="display: block;"><i class="icon icon-up"></i></a>

<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F1f6d1a718ac6b6eb3902c92775fb128e' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/h.js.下载" type="text/javascript"></script>

<!-- DO NOT REMOVE -->
<div id="aw-ajax-box" class="aw-ajax-box"></div>

<div style="display:none;" id="__crond"><img src="./10张图带你深入理解Docker容器和镜像 - DockOne.io_files/TIMESTAMP" width="1" height="1"></div>

<!--<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
    document.write(unescape("%3Cdiv%20style%3D%27text-align%3Acenter%27%3E%3Cspan id='cnzz_stat_icon_1273638993'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s22.cnzz.com/z_stat.php%3Fid%3D1273638993%26show%3Dpic' type='text/javascript'%3E%3C/script%3E%3C/div%3E"));</script>-->

<!-- Escape time: 0.14500308036804 --><!-- / DO NOT REMOVE -->




<div id="download_plus_animation"></div></body></html>